<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>CLUSTERfoo! - Home</title>
    <link rel="stylesheet" href="/style/style.css">
    <link href="atom.xml" type="application/atom+xml" rel="alternate" title="Atom Feed">
    <!-- you don't need to keep this, but it's cool for stats! -->
    <meta name="generator" content="nanoc 3.6.3"> 
    <!-- MathJax for displaying math -->
    <script type="text/javascript"
      src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <!-- START Google Analytics -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-33332254-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <!-- END Google Analytics -->
  </head>
  <body>
    <div id="everything">
      <div id="main">
        <header>
          <hgroup>
            <h1>CLUSTERfoo!</h1>
            <h2>Possibly the best blog on the topic of me.</h2>
          </hgroup>
        </header>
        <div id="content">
          
            <h2 class="section-header">Latest Tweets</h2>

<div class="centered">
  <a class="twitter-timeline" href="https://twitter.com/CLUSTERfoo" width="550" data-widget-id="309418544100151296">Tweets by @CLUSTERfoo</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];
    if(!d.getElementById(id)){js=d.createElement(s);
    js.id=id;js.src="//platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
  </script>
</div>

<h2 class="section-header">Latest Blog Posts and Articles</h2>


  <article class="front-page">
    <h2><a href="/quick-guides/rails-cheatsheet/">Rails Cheatsheet</a></h2>
    <aside>Day posted: <time datetime="2013-05-06">2013-05-06</time></aside>
    <!-- _. -->

<p><strong>Updated:</strong> Instad of <code>.rvmrx</code>, I now use <code>.ruby-version</code> and <code>.ruby-gemset</code>.</p>

<hr>

<p>A little cheatsheet of Rails stuff I don’t want to forget. Many of these
tips come from 
<a href="http://ruby.railstutorial.org/" target="_blank">Michael Hartl’s Rails tutorial</a>.</p>

<!-- _. -->

<h3 id="setting-up-environment">Setting Up Environment</h3>

<h4 id="install-rvm-ruby-bundler">Install RVM, Ruby, Bundler</h4>

<p>Install RVM through instructions on <a href="http://rvm.io" target="_blank">rvm.io</a>.
<!-- _. -->
RVM now also eliminates the need to use <code>bundle exec</code> when used with bundler. </p>

<p>Install latest ruby. The following OpenSSL option is needed on Ubuntu:</p>

<pre><code>$ rvm install 1.9.3-head --with-openssl-dir=$HOME/.rvm/
</code></pre>

<blockquote>
  <p><em>Aside:</em></p>

  <p>If you ever get the following warning:</p>

  <p><code>make: /usr/bin/gcc-4.2: No such file or directory</code></p>

  <p>You will also need to run</p>

  <p><code>$ rvm reinstall 1.9.3-head --with-gcc=clang</code></p>
</blockquote>

<p>Create project gemset and be in it before installing Rails:</p>

<pre><code>$ rvm use 1.9.3-head@projectname --create
</code></pre>

<p>Project-specific gemsets prevent big headaches. Don’t forget to set a 
project <code>rvmrc</code> file after Rail app is generated (see below).</p>

<h4 id="install-rails">Install Rails</h4>

<pre><code>$ gem install rails
</code></pre>

<p>And if on Linux, also run:</p>

<pre><code>$ sudo apt-get install libxslt-dev libxml2-dev libsqlite3-dev
</code></pre>

<p>Install node.js so that rails server can run properly in your development
environment.</p>

<h3 id="initialize-rails-app">Initialize Rails App</h3>

<h4 id="set-up-rails-app-directory">Set up Rails App Directory</h4>

<p>Skip TestUnit if you’re using rspec:</p>

<pre><code>$ rails new project_name --skip-test-unit
</code></pre>

<p>Now create two files: <code>.ruby-version</code> and <code>.ruby-gemset</code>. These files will 
ensure that rvm, or whatever ruby envelope you use, know to switch to the 
correct Ruby version (and gemset, in rvm). For example, if you’re using Ruby
2.0.0 and a gemset called <code>my-project</code>, create a <code>.ruby-version</code> file with the
following content:</p>

<pre><code>2.0.0
</code></pre>

<p>And a <code>.ruby-gemset</code> file with:</p>

<pre><code>my-project
</code></pre>

<p>Now <code>cd</code> in and out of the directory and make sure that rvm is switching to the 
correct gemset with:</p>

<pre><code>$ rvm gemset list
</code></pre>

<h4 id="set-up-rspec">Set up Rspec</h4>

<p>Add rspec, guard and spork to development / test environment in Gemfile:</p>

<pre><code>group :development, :test do
  gem 'rspec-rails', '~&gt; 2'

  # If using guard and spork:
  gem 'guard-rspec', '~&gt; 2'
  gem 'guard-spork', '~&gt; 1'
  gem 'spork', '~&gt; 0.9'
end
</code></pre>

<p>Make Rails use rspec instead of TestUnit:</p>

<pre><code>$ rails g rspec:install
</code></pre>

<h4 id="speeding-up-tests-with-spork-and-guard">Speeding up Tests with Spork and Guard</h4>

<p>Follow 
<a href="http://ruby.railstutorial.org/chapters/static-pages#sec-guard" target="_blank">these instructions</a>.
<!-- _. --></p>

<h4 id="heroku--deployment">Heroku / Deployment</h4>

<p>Add PostgreSQL gem and production-environment-specific gems. In gem file:</p>

<pre><code>group :production do
  gem 'pg'
end
</code></pre>

<p>To run bundler without production gems</p>

<pre><code>$ bundle install --without production
</code></pre>

<p>Bundler remembers this setting, no need to use it again.</p>

<p>Initialize Heroku:</p>

<pre><code>$ heroku login
$ heroku create
</code></pre>

<p>Push to Heroku and rename:</p>

<pre><code>$ git push heroku
$ heroku rename project_name
</code></pre>

<h3 id="maintenance">Maintenance</h3>

<h4 id="after-migrations">After Migrations</h4>

<p>After running</p>

<pre><code>$ rake db:migrate
</code></pre>

<p>The following come in handy:</p>

<p>Stop the Rails server. This is obvious, but forgetting to restart the server
after a migration is a sure way to waste time wondering why half your tests are
suddenly failing.</p>

<p>Annotate models and migrations (requires the <code>annotate</code> gem):</p>

<pre><code>$ annotate
</code></pre>

<p>Tell the test database about the migration too:</p>

<pre><code>$ rake db:test:prepare
</code></pre>

<p>Restart the Rails server.</p>

<p>Sometimes you want to reset your test database:</p>

<pre><code>$ rake db:reset
$ rake db:test:prepare
</code></pre>

<h4 id="run-console-in-sandbox-mode">Run Console in Sandbox Mode!</h4>

<p>Don’t break things:</p>

<pre><code>$ rails console --sandbox
</code></pre>

    <p><a href="/quick-guides/rails-cheatsheet/">Comments? Click me!</a>
  </p></article>

  <article class="front-page">
    <h2><a href="/me/blog/2013/april/mathjax-rss/">MathJax RSS</a></h2>
    <aside>Day posted: <time datetime="2013-04-17">2013-04-17</time></aside>
    <!-- _. -->

<p>Yesterday I started using <a href="http://MathJax.org">MathJax</a> to render mathematical 
equations on my blog. MathJax uses a Javascript library to render LaTex on the
client side, as a result, <strong>mathematical equations will not render if you are 
reading this blog through an RSS feed or email.</strong> </p>

<p>I toyed with the idea of rendering equations as <code>.png</code>s, but I like the 
convenience of MathJax. From now on, posts that include mathematical equations
will include a warning, so readers on RSS know to check the original post.</p>

    <p><a href="/me/blog/2013/april/mathjax-rss/">Comments? Click me!</a>
  </p></article>

  <article class="front-page">
    <h2><a href="/articles/rices_theorem/">Rice's Theorem</a></h2>
    <aside>Day posted: <time datetime="2013-04-16">2013-04-16</time></aside>
    <!-- _. -->

<p><em>The mathematical equations in this post require Javascript and will not 
render if you are on RSS or email.</em></p>

<p>Rice’s theorem can be stated thus:</p>

<blockquote>
  <p>Every non-trivial semantic property of a program is undecidable. </p>
</blockquote>

<p>Before we prove the theorem, let’s break down that statement:</p>

<hr>

<h4 id="semantic-property">“Semantic Property”</h4>

<p>A semantic property is a property of 
the language, <em>not the machine that is computing 
it</em>. For example, this is a semantic property of a language:</p>

<ul>
  <li>All strings in language <script type="math/tex">L</script> are of the form <script type="math/tex">1^n0^n</script>.</li>
</ul>

<p>This is not a semantic property:</p>

<ul>
  <li>It takes my program <script type="math/tex">n</script> steps to generate the first 100 strings in <script type="math/tex">L</script>. </li>
</ul>

<p>Note the importance of differentiating between a semantic property
and not:</p>

<ul>
  <li>The halting problem is actually decidable for <a href="https://en.wikipedia.org/wiki/Linear_bounded_automaton">Linear Bouned Automata</a>.</li>
</ul>

<h4 id="non-trivial">“Non-Trivial”</h4>

<p>A trivial property is a property that either all languages have or no language 
has. A non-trivial property is everything else. </p>

<h4 id="undecidable">“Undecidable”</h4>

<p>A program can either <strong>accept</strong>, <strong>reject</strong>, or <strong>run forever</strong>. If a program
reaches an accept or reject state, we say it <strong>halts</strong>.</p>

<p>There are two types of programs: <strong>recognizers</strong> and <strong>deciders</strong>.</p>

<p>A recognizer is a program that can only tell you with certainty when it has 
succeeded to solve 
a problem (reached the accept state). It cannot always tell you when it has 
failed (if it goes into an infinite loop, there is no way to know if it’s in a
loop, or if it’s just taking very long to solve the problem).</p>

<p>A decider is a program that always reaches either accepts or rejects. That
is, you not only know when the problem was solved, but you also know when it 
was <em>not</em> solved.</p>

<p>A language is <strong>recognizable</strong> if there exists at least one program that can 
recognize it. For example, the following program reconizes <script type="math/tex">L = \{"342"\}</script>
(the language made up of only the string “342”):</p>

<ol>
  <li>Read input.</li>
  <li>If input == “342” print “accept”.</li>
  <li>Else return to step 1. </li>
</ol>

<p>This program <em>recognizes</em> <script type="math/tex">L</script>, but it does not <em>decide</em> <script type="math/tex">L</script>: if the input is
in <script type="math/tex">L</script>, it accepts, but if it’s not, then it will run forever, and you will 
never know whether the input was not in <script type="math/tex">L</script> or the program is just taking a 
long time.</p>

<p>A language is <strong>decidable</strong> if there exists a program that can decide it. All
decidable languages are also recognizable. Here is a program that decides <script type="math/tex">L</script>:</p>

<ol>
  <li>Read input.</li>
  <li>If input == “342” print “accept”.</li>
  <li>Else print “input rejected”. </li>
</ol>

<hr>

<h3 id="the-halting-problem">The Halting Problem</h3>

<p>Take the following language: </p>

<p><script type="math/tex"> HALT_{ TM } = \{ \langle M, w \rangle | M </script> is a program and <script type="math/tex">M</script> halts on 
input <script type="math/tex">w \} </script></p>

<p>Remember, a program is itself just a string: any program can be written down as 
a description, say an <code>.rb</code> file, and that file can be used as an input for 
another program (or itself!). So <script type="math/tex">HALT_{ TM }</script> is a language that consists
of all programs <script type="math/tex">M</script> and inputs <script type="math/tex">w</script> such that <script type="math/tex">M</script> halts on <script type="math/tex">w</script>.</p>

<p>I won’t prove it in this post, but, as it turns out, <script type="math/tex">HALT_{ TM }</script> is 
undecidable. Meaning it is not possible to write a program that decides
whether an algorithm halts.</p>

<p>With this in mind, we can finally prove Rice’s theorem:</p>

<hr>

<h3 id="rices-theorem">Rice’s Theorem</h3>

<p>Recall the theorem:</p>

<blockquote>
  <p>Every non-trivial semantic property of a program is undecidable. </p>
</blockquote>

<p>Yet another way of stating this is as follows:</p>

<blockquote>
  <p>The language <script type="math/tex">P_{ TM }</script>, described below, is undecidable:</p>

  <p><script type="math/tex">P_{ TM } = \{ \langle M \rangle | M</script> is a program and <script type="math/tex">L(M)</script> has 
non-trivial property <script type="math/tex">P \}</script></p>

  <p>Where <script type="math/tex">L(M)</script> means “The language of <script type="math/tex">M</script>”. <!-- _. --></p>
</blockquote>

<p>So, for example, it is not possible to write a program <script type="math/tex">R</script> that takes as its 
input another program <script type="math/tex">M</script> and decides whether the language of <script type="math/tex">M</script> is 
regular (that is, if <script type="math/tex">M</script> can be simplified and represented as a finite 
automation).</p>

<hr>

<h3 id="proof">Proof</h3>

<p>We can prove Rice’s theorem by contradiction. We will show that <strong>if</strong> 
<script type="math/tex">P_{ TM }</script> is decidable <strong>then</strong> so is <script type="math/tex">HALT_{ TM }</script>. 
Since we know that <script type="math/tex">HALT_{ TM }</script> is 
undecidable, then <script type="math/tex">P_{ TM }</script> must be undecidable too. </p>

<p>Assume that <script type="math/tex">P</script> is some non-trivial semantic property and that 
it is possible to write a program <script type="math/tex">R</script> that decides <script type="math/tex">P_{ TM }</script>. Here is
how we could solve the halting problem with that program:<!-- _. --></p>

<p>First, we write a program <script type="math/tex">T</script> such that <script type="math/tex">\langle T \rangle </script> is in <script type="math/tex">P_{ TM }</script>.
Because <script type="math/tex">P</script> is non-trivial, such a program must exist.</p>

<p>Take input <script type="math/tex">\langle M, w \rangle</script> and use it to write a program <script type="math/tex">M_w</script>
that takes <script type="math/tex">x</script> as its input and does the following:</p>

<p><strong><script type="math/tex">M_w</script>:</strong></p>

<ol>
  <li>Run <script type="math/tex">M</script> on input <script type="math/tex">w</script>. If <script type="math/tex">M</script> halts, move on to step 2. </li>
  <li>Run <script type="math/tex">T</script> on <script type="math/tex">x</script>. Accept if <script type="math/tex">T</script> accepts, and reject if <script type="math/tex">T</script> rejects.</li>
</ol>

<p>Here’s the clever part. <em>We don’t actually have to run <script type="math/tex">M_w</script></em>:</p>

<p>All we need to know is that, if we <em>were</em> to run <script type="math/tex">M_w</script>, there are two possible 
outcomes: </p>

<ul>
  <li>
<script type="math/tex">M</script> halts on input <script type="math/tex">w</script>, in which case <script type="math/tex">M_w</script> reaches step 2.</li>
  <li>
<script type="math/tex">M</script> never halts and never reaches step 2. </li>
</ul>

<p>But note that, if <script type="math/tex">M</script> halts on <script type="math/tex">w</script>, then step 2 is simply to run <script type="math/tex">T</script>, which 
means that <strong>when <script type="math/tex">M</script> halts on <script type="math/tex">w</script>, <script type="math/tex">\langle M_w \rangle</script> is in <script type="math/tex">P_{ TM }</script>.</strong></p>

<p>So, if we were to run <script type="math/tex">R</script> with input <script type="math/tex">\langle M_w \rangle</script>, 
it would be able to tell us whether it is in <script type="math/tex">P_{ TM }</script>, and that in
turn would tell us if <script type="math/tex">M</script> halts on <script type="math/tex">w</script>. </p>

<p>But this would mean that we
could solve the halting problem, which we know  is not possible.</p>

    <p><a href="/articles/rices_theorem/">Comments? Click me!</a>
  </p></article>


<a href="/all-articles">All Articles</a>
          
        </div>
      </div>
      <aside id="sidebar">
        <div id="sidebar-content">
  <!-- menu -->
  <h3>Browse:</h3>
  <nav id="main-menu">
    <ul>
      <li><a href="/" title="Homepage">Home</a>
      <li><a href="/all-articles">All Articles</a>
      <li><a href="/links">Check it Out!</a>
      <li><a href="/talks">Watch This!</a>
      <li><a href="http://github.com/clusterfoo" title="My code on github" 
        target="_blank">My Github</a>
      <li><a href="/me/about" title="About Me">About Me</a>
    </ul>
  </nav>

  <h3>My "Blurblog":</h3>
  <p>News articles I'm sharing and talking about on NewsBlur:
  <a href="http://clusterfoo.newsblur.com">Click it, ya dingus.</a>

  <h3>Subscribe in a Reader:</h3>

  <p><a href="http://feeds.feedburner.com/Clusterfoo" title="Subscribe to my feed" 
    rel="alternate" type="application/rss+xml"><img 
      src="//feedburner.google.com/fb/images/pub/feed-icon32x32.png" alt="" 
      style="border:0"/></a>
      <a href="http://feeds.feedburner.com/Clusterfoo" 
        title="Subscribe to my feed" rel="alternate" 
        type="application/rss+xml">Click me!</a>

</div>


      </aside>
      <footer>
        &copy; 2013 Noam Gagliardi
      </footer>
    </div>
  </body>
</html>
